# Luminary AI - 서비스 소개서

## 📋 목차
1. [서비스 개요](#서비스-개요)
2. [주요 기능](#주요-기능)
3. [AI 기능 상세](#ai-기능-상세)
4. [구독 플랜](#구독-플랜)
5. [기술 스택](#기술-스택)

---

## 서비스 개요

**Luminary AI**는 AI 기반 이메일 관리 및 통합 일정/작업 관리 시스템입니다. Gmail과 완벽하게 연동되어 협찬 이메일을 자동으로 분석하고, 효율적으로 관리할 수 있도록 도와주는 인플루언서 전용 이메일 관리 플랫폼입니다.

### 핵심 가치
- 🤖 **AI 기반 자동화**: 이메일 분석, 분류, 요약을 AI가 자동으로 처리
- 📧 **통합 이메일 관리**: Gmail 연동으로 모든 협찬 이메일을 한 곳에서 관리
- 💬 **실시간 채팅**: 이메일 기반 실시간 대화형 인터페이스
- 📅 **일정 통합**: Google Calendar와 완벽 연동
- ✅ **작업 관리**: 이메일에서 작업을 추출하여 체계적으로 관리

---

## 주요 기능

### 1. 📬 이메일 관리 (Inbox)

#### 기본 기능
- **Gmail 연동**: Google OAuth를 통한 안전한 Gmail 계정 연동
- **이메일 가져오기**: 
  - Free 플랜: 최대 50개씩 가져오기
  - Pro 플랜: 최대 200개씩 가져오기
- **실시간 동기화**: 5초마다 백그라운드에서 새 메일 확인 및 자동 업데이트
- **캐싱 시스템**: 탭 전환 시 빠른 로딩을 위한 세션 캐싱 (5분 유효)

#### 필터링 및 검색
- **검색 기능**: 제목, 발신자, 본문 내용 검색
- **카테고리 필터**: 제품 유형별 다중 선택 필터링
- **협찬 유형 필터**: 협찬 방식별 필터링
- **마감일 필터**: 이번 주, 이번 달, 지난 마감일 필터
- **읽음/안읽음 필터**: 읽지 않은 메일만 보기
- **북마크 필터**: 북마크한 메일만 보기
- **회신함 필터**: 원클릭 회신한 메일만 보기
- **휴지통 필터**: 삭제된 메일 관리

#### 정렬 기능
- **기본 정렬**: 수신일, 마감일, 보상, 우선순위별 정렬
- **AI 기반 정렬**: 사용자 정의 프롬프트로 AI가 정렬
  - 예: "나는 뷰티 인플루언서야"
  - AI가 프롬프트를 종합적으로 판단하여 인플루언서에게 도움이 되는 순으로 정렬 (뷰티 인플루언서에게 화장품 협찬 먼저 정렬)

#### 이메일 상세 보기
- **AI 요약 카드**: 
  - 제품 정보
  - 협찬 유형
  - 요구사항
  - 마감일/일정
  - 보상 정보
- **원본 메일**: HTML/텍스트 형식 원본 메일 표시
- **원클릭 회신**: 템플릿을 사용한 빠른 회신
- **제목 요약**: 원클릭 회신 시 AI가 제목을 자동 요약 (최대 50자)
  - 불필요한 태그 제거: [광고제안], [협찬], [제안] 등
  - 호칭 제거: 님, 선생님, 인플루언서님 등
- **회신함 이동**: 원클릭 회신한 메일은 자동으로 회신함으로 이동
- **다음 메일 자동 이동**: 회신 후 다음 메일로 자동 이동

#### 이메일 액션
- **읽음/안읽음 표시**: 읽음 상태 토글
- **북마크**: 중요 메일 북마크
- **휴지통 이동**: 메일 삭제
- **휴지통 비우기**: 영구 삭제 (연관된 채팅 메시지도 함께 삭제)
- **복구**: 휴지통에서 메일 복구 (연관된 채팅 메시지도 자동 복구)

---

### 2. 💬 채팅 (Chatting)

#### 채팅방 관리
- **채팅방 목록**: 이메일 기반 채팅방 목록 표시
- **제목 요약 표시**: 요약된 제목을 메인 타이틀로 표시
- **발신자 정보**: 발신자 이름을 서브타이틀로 표시
- **읽지 않음 표시**: 읽지 않은 메시지 개수 배지
- **Task 필터**: Task로 넘긴 채팅방만 보기 / Task 없는 채팅방만 보기
- **실시간 업데이트**: 5초마다 새 메시지 확인 및 목록 자동 갱신
- **선택 모드**: 여러 채팅방 선택하여 일괄 나가기

#### 채팅 기능
- **실시간 메시지**: Server-Sent Events (SSE)를 통한 실시간 메시지 수신
- **Gmail 동기화**: Gmail 메시지를 Firebase로 자동 동기화
- **메시지 표시**: 
  - 발신/수신 구분
  - 시간 표시
  - 메시지 본문
- **회신 기능**: 
  - 템플릿 선택
  - 제목 자동 생성 (Re: 제목)
  - 본문 작성
  - 원클릭 전송
- **읽음 처리**: 채팅방 열면 자동으로 읽음 처리

#### Task 연동
- **Task 분석**: 채팅 내용에서 Task 정보 자동 추출
  - 제목
  - 내용
  - 제품
  - 요구사항
  - 보상
  - 일정
  - 마감일
- **Task 생성**: 분석 결과를 Task로 바로 생성
- **캘린더 연동**: Task를 Google Calendar 이벤트로 추가

#### 채팅방 나가기
- **나가기 기능**: 채팅방에서 나가기
- **데이터 정리**: 
  - Firebase의 모든 회신 메시지 삭제
  - 원본 이메일을 Gmail 휴지통으로 이동
  - Firebase에서 이메일 상태 업데이트

---

### 3. ✅ 작업 관리 (Tasks)

#### Task 목록
- **상태별 관리**: 
  - TODO (할 일)
  - IN_PROGRESS (진행 중)
  - DONE (완료)
- **정렬 기능**: 마감일, 생성일 기준 정렬
- **상태 토글**: 클릭 한 번으로 상태 변경

#### Task 상세
- **제목 및 설명**: Task 제목과 상세 설명
- **마감일**: 마감일 설정 및 표시
- **캘린더 연동**: Google Calendar 이벤트로 추가
- **수정/삭제**: Task 정보 수정 및 삭제

#### Task 생성
- **이메일에서 생성**: 이메일 상세 페이지에서 Task 생성
- **채팅에서 생성**: 채팅방에서 AI 분석을 통한 Task 생성
- **수동 생성**: 직접 Task 생성

#### 캘린더 연동
- **이벤트 생성**: Task를 Google Calendar 이벤트로 변환
- **일정 관리**: 캘린더에서 일정 확인 및 관리
- **Task 삭제 시**: 연관된 캘린더 이벤트도 자동 삭제

---

### 4. 📅 캘린더 (Calendar)

#### 캘린더 뷰
- **월간 뷰**: 한 달 단위로 일정 확인
- **이벤트 표시**: Google Calendar 이벤트 표시
- **Task 연동**: Task에서 생성된 이벤트 표시

#### 이벤트 관리
- **이벤트 생성**: Task에서 캘린더 이벤트 생성
- **이벤트 조회**: Google Calendar API를 통한 이벤트 조회
- **이벤트 삭제**: Task 삭제 시 연관 이벤트 자동 삭제

---

### 5. 📝 템플릿 (Templates)

#### 템플릿 관리
- **템플릿 생성**: 회신 템플릿 생성
  - 템플릿 이름
  - 제목
  - 본문
- **템플릿 수정**: 기존 템플릿 수정
- **템플릿 삭제**: 템플릿 삭제
- **템플릿 목록**: 저장된 모든 템플릿 목록

#### 템플릿 사용
- **채팅에서 사용**: 채팅방에서 템플릿 선택하여 빠른 회신
- **이메일에서 사용**: 이메일 상세 페이지에서 템플릿 사용

---

### 6. ⚙️ 규칙 관리 (Rules)

#### 규칙 생성
- **자연어 규칙**: 자연어로 규칙 설명하면 AI가 자동으로 구조화
  - 예: "인보이스, 청구, 결제 관련 메일은 모두 WORK/FINANCE로 분류하고, 우선순위를 높음으로 설정해줘."
- **규칙 활성화/비활성화**: 규칙 토글
- **규칙 삭제**: 불필요한 규칙 삭제

#### 규칙 적용
- **자동 적용**: 활성화된 규칙이 이메일에 자동 적용
- **규칙 우선순위**: 여러 규칙 중 우선순위에 따라 적용

---

### 7. 🗑️ 휴지통 (Trash)

#### 휴지통 관리
- **삭제된 메일 보기**: 휴지통으로 이동한 메일 확인
- **복구**: 휴지통에서 메일 복구
  - Gmail에서 메일 복구
  - Firebase 상태 업데이트
  - 연관된 채팅 메시지 자동 복구 (Gmail Thread API 사용)
- **휴지통 비우기**: 모든 메일 영구 삭제
  - Gmail에서 영구 삭제
  - Firebase에서 삭제
  - 연관된 모든 채팅 메시지 삭제

---

### 8. ⚙️ 설정 (Settings)

#### 계정 설정
- **사용자 정보**: 이름, 이메일 표시
- **로그아웃**: 계정 로그아웃

#### 연동 상태
- **Gmail 연동**: Gmail 연동 상태 확인 및 새로고침
- **Calendar 연동**: Google Calendar 연동 상태 확인 및 새로고침
- **OpenAI 설정**: OpenAI API 설정 상태 확인

#### 구독 관리
- **현재 플랜**: 현재 구독 플랜 확인
- **플랜 업그레이드**: Pro 플랜으로 업그레이드

---

## AI 기능 상세

### 1. 이메일 분류 (Classification)
- **우선순위 분류**: HIGH, MEDIUM, LOW 자동 분류 (0-100 점수)
- **스팸 감지**: 스팸 여부 자동 판단 (0-100 점수)
- **카테고리 분류**: WORK, PERSONAL, FINANCE 등 카테고리 자동 분류

### 2. 협찬 정보 추출 (Sponsorship Extraction)
- **제품 정보**: 제품명, 제품 유형 추출
- **협찬 유형**: 협찬 방식 분류
- **요구사항**: 협찬 요구사항 추출
- **보상 정보**: 보상 금액/조건 추출
- **마감일/일정**: 마감일 및 일정 정보 추출

### 3. 이메일 요약 (Summarization)
- **AI 요약**: 이메일 내용을 구조화된 요약으로 변환
- **요약 항목**:
  - 제품
  - 협찬 유형
  - 요구사항
  - 마감일/일정
  - 보상
- **제목 요약**: 원클릭 회신 시 제목 자동 요약 (최대 50자)

### 4. 일정 추출 (Schedule Extraction)
- **일정 정보 추출**: 이메일에서 일정 정보 자동 추출
- **일정 유형**: MEETING, DEADLINE, REMINDER, OTHER
- **시간 정보**: 시작 시간, 종료 시간, 마감 시간
- **위치 정보**: 장소 정보 추출
- **메모**: 일정 관련 메모 추출

### 5. Task 분석 (Task Analysis)
- **채팅 내용 분석**: 채팅 대화에서 Task 정보 추출
- **추출 정보**:
  - 제목
  - 내용
  - 제품
  - 요구사항
  - 보상
  - 일정
  - 마감일
- **현재 날짜 고려**: LLM에 현재 날짜 컨텍스트 제공하여 정확한 날짜 파싱

### 6. AI 기반 정렬 (AI Sorting)
- **사용자 정의 프롬프트**: 원하는 정렬 기준을 자연어로 입력
- **종합 분석**: 제품, 유형, 요구사항, 보상, 일정, 우선순위를 종합 분석
- **최적 순서**: AI가 분석한 결과를 바탕으로 최적의 순서로 정렬

### 7. 자연어 규칙 파싱 (Rule Parsing)
- **자연어 입력**: 규칙을 자연어로 설명
- **구조화 변환**: AI가 자연어를 구조화된 규칙으로 변환
- **자동 적용**: 변환된 규칙이 이메일에 자동 적용

---

## 구독 플랜

### Free 플랜 (무료)
- ✅ 기본 이메일 관리
- ✅ 일정 관리
- ✅ 이메일 가져오기: 최대 50개

### Pro 플랜 (월 9,900원)
- ✅ 모든 Free 기능
- ✅ 고급 AI 분석
- ✅ AI 기반 자동 회신
- ✅ 우선 지원
- ✅ 개인화 Agent
- ✅ 이메일 가져오기: 최대 200개

### Enterprise 플랜 (맞춤 가격)
- ✅ 모든 Pro 기능
- ✅ 팀 협업 도구
- ✅ 전담 지원
- ✅ 맞춤형 통합

---

## 기술 스택

### Frontend
- **Next.js 14**: App Router 기반 React 프레임워크
- **React 18**: UI 라이브러리
- **TypeScript**: 타입 안정성
- **Tailwind CSS**: 유틸리티 기반 CSS
- **shadcn/ui**: UI 컴포넌트 라이브러리
- **date-fns**: 날짜 처리
- **Server-Sent Events (SSE)**: 실시간 메시지 스트리밍

### Backend
- **Next.js API Routes**: 서버리스 API
- **NextAuth.js v5**: 인증 시스템
- **Firebase Firestore**: NoSQL 데이터베이스
- **Firebase Admin SDK**: 서버 사이드 Firebase 접근

### AI/ML
- **OpenAI API**: GPT-4o-mini 모델 사용
  - 이메일 분류
  - 협찬 정보 추출
  - 이메일 요약
  - 일정 추출
  - Task 분석
  - AI 정렬
  - 자연어 규칙 파싱
  - 제목 요약

### 외부 API
- **Gmail API**: 이메일 가져오기, 전송, 관리
- **Google Calendar API**: 일정 생성, 조회, 삭제
- **Google OAuth 2.0**: 인증 및 권한 관리

### 배포 및 인프라
- **Vercel**: 호스팅 및 배포
- **Vercel Cron Jobs**: 자동 이메일 동기화
- **Firebase**: 데이터베이스 및 인증

### 개발 도구
- **ESLint**: 코드 품질 관리
- **TypeScript**: 타입 체크
- **Git**: 버전 관리

---

## 주요 특징

### 1. 실시간 동기화
- 5초마다 백그라운드에서 새 메일 확인
- 새 메일이 있을 때만 목록 갱신
- 현재 선택된 항목 유지

### 2. 성능 최적화
- 세션 캐싱으로 빠른 탭 전환
- Firestore 인덱스 최적화
- 배치 쓰기로 효율적인 데이터 처리
- 최신 1000개 회신만 조회하여 초기 로딩 속도 향상

### 3. 사용자 경험
- 부드러운 UI 업데이트 (로딩 인디케이터 최소화)
- 원클릭 회신 후 자동으로 다음 메일로 이동
- 회신함 필터로 회신한 메일 관리
- 북마크 기능으로 중요 메일 관리

### 4. 데이터 보안
- 사용자별 데이터 격리 (Firestore 서브컬렉션)
- OAuth 2.0을 통한 안전한 인증
- API 레벨에서 사용자 소유권 검증

---

## 버전 정보

**Luminary v0.1.0**

AI 기반 이메일 관리 및 통합 일정 관리 시스템

---

## 문의 및 지원

- **Pro 플랜 업그레이드**: 설정 페이지에서 업그레이드
- **Enterprise 플랜 문의**: 설정 페이지에서 문의하기

---

*본 문서는 Luminary AI 서비스의 주요 기능을 정리한 소개서입니다. 실제 서비스와 일부 차이가 있을 수 있습니다.*

